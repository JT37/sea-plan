### Redis 常见的四种统计模式
- 聚合统计
- 排序统计
- 二值状态统计
- 基数统计

#### 聚合统计

所谓的聚合统计，就是指统计多个集合元素的聚合结果，包括：统计多个集合的共有元素（交集统计）；把两个集合相比，统计其中一个集合独有的元素（差集统计）；统计多个集合的所有元素（并集统计）。

```
SET 并集
SUNIONSTORE  user:id  user:id  user:id:20200803 

SET 差集
SDIFFSTORE  user:new  user:id:20200804 user:id  

SET 交集
SINTERSTORE user:id:rem user:id:20200803 user:id:20200804

Set 的差集、并集和交集的计算复杂度较高，在数据量较大的情况下，如果直接执行这些计算，会导致 Redis 实例阻塞。
小建议：可以从主从集群中选择一个从库，让它专门负责聚合计算，或者是把数据读取到客户端，在客户端来完成聚合统计，这样就可以规避阻塞主库实例和其他从库实例的风险了。
```