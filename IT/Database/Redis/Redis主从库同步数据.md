### Redis 具有高可靠性
一是数据尽量少丢失，通过 `AOF` 和 `RDB` 来保证。

二是服务尽量少中断，通过增加副本冗余量，将一份数据同时保存在多个实例上来保证。`Redis` 提供了主从库模式，以保证数据副本的一致，主从库之间采用的是读写分离的方式。
- 读操作：主库、从库都可以接收；
- 写操作：首先到主库执行，然后，主库将写操作同步给从库。

![Redis主从库和读写分离](../../Picture/Redis主从库和读写分离.jpeg)

如果在上图中，不管是主库还是从库，都能接收客户端的写操作，那么，一个直接的问题就是：如果客户端对同一个数据（例如 `k1`）前后修改了三次，每一次的修改请求都发送到不同的实例上，在不同的实例上执行，那么，这个数据在这三个实例上的副本就不一致了（分别是 `v1`、`v2` 和 `v3`）。在读取这个数据的时候，就可能读取到旧的值。

主从库模式一旦采用了读写分离，所有数据的修改只会在主库上进行，不用协调三个实例。主库有了最新的数据后，会同步给从库，这样，主从库的数据就是一致的。

### 主从库间如何进行第一次同步？